$ python3 app/main.py 
2025-06-22 07:54:27,545 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-06-22 07:54:27,545 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-22 07:54:27,548 INFO sqlalchemy.engine.Engine select current_schema()
2025-06-22 07:54:27,548 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-22 07:54:27,551 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-06-22 07:54:27,551 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-06-22 07:54:27,553 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:27,553 INFO sqlalchemy.engine.Engine SELECT 1
2025-06-22 07:54:27,553 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ()
2025-06-22 07:54:27,554 INFO sqlalchemy.engine.Engine ROLLBACK
2025-06-22 07:54:30,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:30,636 INFO sqlalchemy.engine.Engine SELECT sgpos.payment_methods.id, sgpos.payment_methods.company_id, sgpos.payment_methods.name, sgpos.payment_methods.type, sgpos.payment_methods.is_active, sgpos.payment_methods.created_at, sgpos.payment_methods.updated_at 
FROM sgpos.payment_methods 
WHERE sgpos.payment_methods.company_id = $1::UUID ORDER BY sgpos.payment_methods.name 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:54:30,637 INFO sqlalchemy.engine.Engine [generated in 0.00024s] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:54:30,688 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:54:30,693 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:30,695 INFO sqlalchemy.engine.Engine SELECT sgpos.companies.id AS sgpos_companies_id, sgpos.companies.name AS sgpos_companies_name, sgpos.companies.registration_number AS sgpos_companies_registration_number, sgpos.companies.gst_registration_number AS sgpos_companies_gst_registration_number, sgpos.companies.address AS sgpos_companies_address, sgpos.companies.phone AS sgpos_companies_phone, sgpos.companies.email AS sgpos_companies_email, sgpos.companies.base_currency AS sgpos_companies_base_currency, sgpos.companies.fiscal_year_start AS sgpos_companies_fiscal_year_start, sgpos.companies.is_active AS sgpos_companies_is_active, sgpos.companies.created_at AS sgpos_companies_created_at, sgpos.companies.updated_at AS sgpos_companies_updated_at 
FROM sgpos.companies 
WHERE sgpos.companies.id = $1::UUID
2025-06-22 07:54:30,696 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (UUID('00000000-0000-0000-0000-000000000001'),)
2025-06-22 07:54:30,699 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:54:36,692 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:36,693 INFO sqlalchemy.engine.Engine SELECT sgpos.companies.id AS sgpos_companies_id, sgpos.companies.name AS sgpos_companies_name, sgpos.companies.registration_number AS sgpos_companies_registration_number, sgpos.companies.gst_registration_number AS sgpos_companies_gst_registration_number, sgpos.companies.address AS sgpos_companies_address, sgpos.companies.phone AS sgpos_companies_phone, sgpos.companies.email AS sgpos_companies_email, sgpos.companies.base_currency AS sgpos_companies_base_currency, sgpos.companies.fiscal_year_start AS sgpos_companies_fiscal_year_start, sgpos.companies.is_active AS sgpos_companies_is_active, sgpos.companies.created_at AS sgpos_companies_created_at, sgpos.companies.updated_at AS sgpos_companies_updated_at 
FROM sgpos.companies 
WHERE sgpos.companies.id = $1::UUID
2025-06-22 07:54:36,693 INFO sqlalchemy.engine.Engine [cached since 5.997s ago] (UUID('00000000-0000-0000-0000-000000000001'),)
2025-06-22 07:54:36,696 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:54:36,696 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:36,697 INFO sqlalchemy.engine.Engine SELECT sgpos.companies.id AS sgpos_companies_id, sgpos.companies.name AS sgpos_companies_name, sgpos.companies.registration_number AS sgpos_companies_registration_number, sgpos.companies.gst_registration_number AS sgpos_companies_gst_registration_number, sgpos.companies.address AS sgpos_companies_address, sgpos.companies.phone AS sgpos_companies_phone, sgpos.companies.email AS sgpos_companies_email, sgpos.companies.base_currency AS sgpos_companies_base_currency, sgpos.companies.fiscal_year_start AS sgpos_companies_fiscal_year_start, sgpos.companies.is_active AS sgpos_companies_is_active, sgpos.companies.created_at AS sgpos_companies_created_at, sgpos.companies.updated_at AS sgpos_companies_updated_at 
FROM sgpos.companies 
WHERE sgpos.companies.id = $1::UUID
2025-06-22 07:54:36,697 INFO sqlalchemy.engine.Engine [cached since 6.001s ago] (UUID('00000000-0000-0000-0000-000000000001'),)
2025-06-22 07:54:36,700 INFO sqlalchemy.engine.Engine UPDATE sgpos.companies SET name=$1::VARCHAR, updated_at=now() WHERE sgpos.companies.id = $2::UUID
2025-06-22 07:54:36,700 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ('SG-POS Q Company', UUID('00000000-0000-0000-0000-000000000001'))
2025-06-22 07:54:36,703 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:54:39,678 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:39,678 INFO sqlalchemy.engine.Engine SELECT sgpos.companies.id AS sgpos_companies_id, sgpos.companies.name AS sgpos_companies_name, sgpos.companies.registration_number AS sgpos_companies_registration_number, sgpos.companies.gst_registration_number AS sgpos_companies_gst_registration_number, sgpos.companies.address AS sgpos_companies_address, sgpos.companies.phone AS sgpos_companies_phone, sgpos.companies.email AS sgpos_companies_email, sgpos.companies.base_currency AS sgpos_companies_base_currency, sgpos.companies.fiscal_year_start AS sgpos_companies_fiscal_year_start, sgpos.companies.is_active AS sgpos_companies_is_active, sgpos.companies.created_at AS sgpos_companies_created_at, sgpos.companies.updated_at AS sgpos_companies_updated_at 
FROM sgpos.companies 
WHERE sgpos.companies.id = $1::UUID
2025-06-22 07:54:39,678 INFO sqlalchemy.engine.Engine [cached since 8.983s ago] (UUID('00000000-0000-0000-0000-000000000001'),)
2025-06-22 07:54:39,680 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:54:40,896 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:40,901 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.company_id = $1::UUID ORDER BY sgpos.users.username 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:54:40,901 INFO sqlalchemy.engine.Engine [generated in 0.00036s] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:54:40,912 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID)
2025-06-22 07:54:40,912 INFO sqlalchemy.engine.Engine [generated in 0.00062s] (UUID('00000000-0000-0000-0000-000000000003'),)
2025-06-22 07:54:40,918 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id AS sgpos_roles_id, sgpos.roles.company_id AS sgpos_roles_company_id, sgpos.roles.name AS sgpos_roles_name, sgpos.roles.description AS sgpos_roles_description, sgpos.roles.is_system_role AS sgpos_roles_is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.id IN ($1::UUID)
2025-06-22 07:54:40,918 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (UUID('966e9a76-d1d1-4084-b6a2-93a82f672c7b'),)
2025-06-22 07:54:40,920 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:54:44,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:54:44,545 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id, sgpos.roles.company_id, sgpos.roles.name, sgpos.roles.description, sgpos.roles.is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:54:44,545 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:54:44,549 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:55:30,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:55:30,949 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.company_id = $1::UUID AND sgpos.users.username = $2::VARCHAR
2025-06-22 07:55:30,949 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (UUID('00000000-0000-0000-0000-000000000001'), 'cashier')
2025-06-22 07:55:31,258 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.users (id, company_id, username, email, password_hash, full_name, is_active, last_login_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::BOOLEAN, $8::TIMESTAMP WITH TIME ZONE) RETURNING sgpos.users.created_at, sgpos.users.updated_at
2025-06-22 07:55:31,258 INFO sqlalchemy.engine.Engine [generated in 0.00024s] (UUID('704bc443-6c1d-4233-86e1-d0d5a6ddc4b3'), UUID('00000000-0000-0000-0000-000000000001'), 'cashier', 'abcd@qwer.com', '$2b$12$uzfOnoZnG/OyjghAEeFE1edB9FXJkqegOltsaBb77krW4XUTwTDB2', 'Main Cashier', True, None)
2025-06-22 07:55:31,261 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.id = $1::UUID
2025-06-22 07:55:31,261 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (UUID('704bc443-6c1d-4233-86e1-d0d5a6ddc4b3'),)
2025-06-22 07:55:31,263 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID)
2025-06-22 07:55:31,263 INFO sqlalchemy.engine.Engine [cached since 50.35s ago] (UUID('704bc443-6c1d-4233-86e1-d0d5a6ddc4b3'),)
2025-06-22 07:55:31,264 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:55:32,450 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:55:32,451 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.company_id = $1::UUID ORDER BY sgpos.users.username 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:55:32,451 INFO sqlalchemy.engine.Engine [cached since 51.55s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:55:32,456 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID, $2::UUID)
2025-06-22 07:55:32,457 INFO sqlalchemy.engine.Engine [cached since 51.54s ago] (UUID('00000000-0000-0000-0000-000000000003'), UUID('704bc443-6c1d-4233-86e1-d0d5a6ddc4b3'))
2025-06-22 07:55:32,461 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id AS sgpos_roles_id, sgpos.roles.company_id AS sgpos_roles_company_id, sgpos.roles.name AS sgpos_roles_name, sgpos.roles.description AS sgpos_roles_description, sgpos.roles.is_system_role AS sgpos_roles_is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.id IN ($1::UUID)
2025-06-22 07:55:32,461 INFO sqlalchemy.engine.Engine [cached since 51.54s ago] (UUID('966e9a76-d1d1-4084-b6a2-93a82f672c7b'),)
2025-06-22 07:55:32,463 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:55:35,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:55:35,212 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id, sgpos.roles.company_id, sgpos.roles.name, sgpos.roles.description, sgpos.roles.is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:55:35,212 INFO sqlalchemy.engine.Engine [cached since 50.67s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:55:35,215 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:55:58,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:55:58,076 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.company_id = $1::UUID AND sgpos.users.username = $2::VARCHAR
2025-06-22 07:55:58,077 INFO sqlalchemy.engine.Engine [cached since 27.13s ago] (UUID('00000000-0000-0000-0000-000000000001'), 'fdsf')
2025-06-22 07:55:58,381 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.users (id, company_id, username, email, password_hash, full_name, is_active, last_login_at) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::BOOLEAN, $8::TIMESTAMP WITH TIME ZONE) RETURNING sgpos.users.created_at, sgpos.users.updated_at
2025-06-22 07:55:58,381 INFO sqlalchemy.engine.Engine [cached since 27.12s ago] (UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'), UUID('00000000-0000-0000-0000-000000000001'), 'fdsf', 'fdfds@fwxf.com', '$2b$12$ZW1XCcCbzJ4kEIzUxwKoRuixGWzOwUx7uAlaPJFL3sDG24muW8xSa', 'sdfsdf df', True, None)
2025-06-22 07:55:58,383 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.id = $1::UUID
2025-06-22 07:55:58,383 INFO sqlalchemy.engine.Engine [cached since 27.12s ago] (UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'),)
2025-06-22 07:55:58,387 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID)
2025-06-22 07:55:58,387 INFO sqlalchemy.engine.Engine [cached since 77.48s ago] (UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'),)
2025-06-22 07:55:58,389 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:55:59,532 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:55:59,533 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.company_id = $1::UUID ORDER BY sgpos.users.username 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:55:59,533 INFO sqlalchemy.engine.Engine [cached since 78.63s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:55:59,536 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID, $2::UUID, $3::UUID)
2025-06-22 07:55:59,536 INFO sqlalchemy.engine.Engine [cached since 78.62s ago] (UUID('00000000-0000-0000-0000-000000000003'), UUID('704bc443-6c1d-4233-86e1-d0d5a6ddc4b3'), UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'))
2025-06-22 07:55:59,540 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id AS sgpos_roles_id, sgpos.roles.company_id AS sgpos_roles_company_id, sgpos.roles.name AS sgpos_roles_name, sgpos.roles.description AS sgpos_roles_description, sgpos.roles.is_system_role AS sgpos_roles_is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.id IN ($1::UUID)
2025-06-22 07:55:59,540 INFO sqlalchemy.engine.Engine [cached since 78.62s ago] (UUID('966e9a76-d1d1-4084-b6a2-93a82f672c7b'),)
2025-06-22 07:55:59,542 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:02,981 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:02,982 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id AS sgpos_users_id, sgpos.users.company_id AS sgpos_users_company_id, sgpos.users.username AS sgpos_users_username, sgpos.users.email AS sgpos_users_email, sgpos.users.password_hash AS sgpos_users_password_hash, sgpos.users.full_name AS sgpos_users_full_name, sgpos.users.is_active AS sgpos_users_is_active, sgpos.users.last_login_at AS sgpos_users_last_login_at, sgpos.users.created_at AS sgpos_users_created_at, sgpos.users.updated_at AS sgpos_users_updated_at 
FROM sgpos.users 
WHERE sgpos.users.id = $1::UUID
2025-06-22 07:56:02,982 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'),)
2025-06-22 07:56:02,984 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:02,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:02,985 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id AS sgpos_users_id, sgpos.users.company_id AS sgpos_users_company_id, sgpos.users.username AS sgpos_users_username, sgpos.users.email AS sgpos_users_email, sgpos.users.password_hash AS sgpos_users_password_hash, sgpos.users.full_name AS sgpos_users_full_name, sgpos.users.is_active AS sgpos_users_is_active, sgpos.users.last_login_at AS sgpos_users_last_login_at, sgpos.users.created_at AS sgpos_users_created_at, sgpos.users.updated_at AS sgpos_users_updated_at 
FROM sgpos.users 
WHERE sgpos.users.id = $1::UUID
2025-06-22 07:56:02,985 INFO sqlalchemy.engine.Engine [cached since 0.003473s ago] (UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'),)
2025-06-22 07:56:02,987 INFO sqlalchemy.engine.Engine UPDATE sgpos.users SET is_active=$1::BOOLEAN, updated_at=now() WHERE sgpos.users.id = $2::UUID
2025-06-22 07:56:02,988 INFO sqlalchemy.engine.Engine [generated in 0.00032s] (False, UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'))
2025-06-22 07:56:02,989 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:04,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:04,648 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.company_id = $1::UUID ORDER BY sgpos.users.username 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:56:04,648 INFO sqlalchemy.engine.Engine [cached since 83.75s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:56:04,651 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID, $2::UUID, $3::UUID)
2025-06-22 07:56:04,652 INFO sqlalchemy.engine.Engine [cached since 83.74s ago] (UUID('00000000-0000-0000-0000-000000000003'), UUID('704bc443-6c1d-4233-86e1-d0d5a6ddc4b3'), UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'))
2025-06-22 07:56:04,654 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id AS sgpos_roles_id, sgpos.roles.company_id AS sgpos_roles_company_id, sgpos.roles.name AS sgpos_roles_name, sgpos.roles.description AS sgpos_roles_description, sgpos.roles.is_system_role AS sgpos_roles_is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.id IN ($1::UUID)
2025-06-22 07:56:04,654 INFO sqlalchemy.engine.Engine [cached since 83.74s ago] (UUID('966e9a76-d1d1-4084-b6a2-93a82f672c7b'),)
2025-06-22 07:56:04,655 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:07,216 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:07,217 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id, sgpos.roles.company_id, sgpos.roles.name, sgpos.roles.description, sgpos.roles.is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:56:07,217 INFO sqlalchemy.engine.Engine [cached since 82.67s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:56:07,219 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:09,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:09,670 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.id = $1::UUID
2025-06-22 07:56:09,670 INFO sqlalchemy.engine.Engine [cached since 38.41s ago] (UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'),)
2025-06-22 07:56:09,671 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID)
2025-06-22 07:56:09,672 INFO sqlalchemy.engine.Engine [cached since 88.76s ago] (UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'),)
2025-06-22 07:56:09,673 INFO sqlalchemy.engine.Engine UPDATE sgpos.users SET is_active=$1::BOOLEAN, updated_at=now() WHERE sgpos.users.id = $2::UUID
2025-06-22 07:56:09,673 INFO sqlalchemy.engine.Engine [cached since 6.686s ago] (True, UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'))
2025-06-22 07:56:09,674 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:11,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:11,544 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.company_id = $1::UUID ORDER BY sgpos.users.username 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:56:11,544 INFO sqlalchemy.engine.Engine [cached since 90.64s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:56:11,547 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID, $2::UUID, $3::UUID)
2025-06-22 07:56:11,547 INFO sqlalchemy.engine.Engine [cached since 90.64s ago] (UUID('00000000-0000-0000-0000-000000000003'), UUID('704bc443-6c1d-4233-86e1-d0d5a6ddc4b3'), UUID('bf2e06b1-759a-485e-b00b-9b297bc5d9af'))
2025-06-22 07:56:11,550 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id AS sgpos_roles_id, sgpos.roles.company_id AS sgpos_roles_company_id, sgpos.roles.name AS sgpos_roles_name, sgpos.roles.description AS sgpos_roles_description, sgpos.roles.is_system_role AS sgpos_roles_is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.id IN ($1::UUID)
2025-06-22 07:56:11,550 INFO sqlalchemy.engine.Engine [cached since 90.63s ago] (UUID('966e9a76-d1d1-4084-b6a2-93a82f672c7b'),)
2025-06-22 07:56:11,552 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:22,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:22,535 INFO sqlalchemy.engine.Engine SELECT sgpos.payment_methods.id, sgpos.payment_methods.company_id, sgpos.payment_methods.name, sgpos.payment_methods.type, sgpos.payment_methods.is_active, sgpos.payment_methods.created_at, sgpos.payment_methods.updated_at 
FROM sgpos.payment_methods 
WHERE sgpos.payment_methods.company_id = $1::UUID AND sgpos.payment_methods.name = $2::VARCHAR
2025-06-22 07:56:22,535 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (UUID('00000000-0000-0000-0000-000000000001'), 'Cash')
2025-06-22 07:56:22,537 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:22,538 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:22,539 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.payment_methods (id, company_id, name, type, is_active) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::BOOLEAN) RETURNING sgpos.payment_methods.created_at, sgpos.payment_methods.updated_at
2025-06-22 07:56:22,539 INFO sqlalchemy.engine.Engine [generated in 0.00028s] (UUID('a63fa760-b9bf-4c61-8951-fe380f3a5393'), UUID('00000000-0000-0000-0000-000000000001'), 'Cash', <PaymentMethodType.CASH: 'CASH'>, True)
2025-06-22 07:56:22,544 INFO sqlalchemy.engine.Engine SELECT sgpos.payment_methods.id, sgpos.payment_methods.company_id, sgpos.payment_methods.name, sgpos.payment_methods.type, sgpos.payment_methods.is_active, sgpos.payment_methods.created_at, sgpos.payment_methods.updated_at 
FROM sgpos.payment_methods 
WHERE sgpos.payment_methods.id = $1::UUID
2025-06-22 07:56:22,544 INFO sqlalchemy.engine.Engine [generated in 0.00037s] (UUID('a63fa760-b9bf-4c61-8951-fe380f3a5393'),)
2025-06-22 07:56:22,546 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:23,752 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:23,752 INFO sqlalchemy.engine.Engine SELECT sgpos.payment_methods.id, sgpos.payment_methods.company_id, sgpos.payment_methods.name, sgpos.payment_methods.type, sgpos.payment_methods.is_active, sgpos.payment_methods.created_at, sgpos.payment_methods.updated_at 
FROM sgpos.payment_methods 
WHERE sgpos.payment_methods.company_id = $1::UUID ORDER BY sgpos.payment_methods.name 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:56:23,752 INFO sqlalchemy.engine.Engine [cached since 113.1s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:56:23,754 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:30,989 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:30,993 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS product_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.products.barcode, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.cost_price, sgpos.products.selling_price, coalesce(sgpos.inventory.quantity_on_hand, $1::NUMERIC) AS quantity_on_hand, (SELECT name FROM sgpos.categories WHERE id = products.category_id) AS category_name 
FROM sgpos.products LEFT OUTER JOIN sgpos.inventory ON sgpos.inventory.product_id = sgpos.products.id AND sgpos.inventory.outlet_id = $2::UUID 
WHERE sgpos.products.company_id = $3::UUID ORDER BY sgpos.products.name 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-06-22 07:56:30,995 INFO sqlalchemy.engine.Engine [generated in 0.00151s] (Decimal('0.0'), UUID('00000000-0000-0000-0000-000000000002'), UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:56:31,002 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:39,737 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:39,746 INFO sqlalchemy.engine.Engine SELECT sgpos.purchase_orders.id, sgpos.purchase_orders.company_id, sgpos.purchase_orders.outlet_id, sgpos.purchase_orders.supplier_id, sgpos.purchase_orders.po_number, sgpos.purchase_orders.order_date, sgpos.purchase_orders.expected_delivery_date, sgpos.purchase_orders.status, sgpos.purchase_orders.notes, sgpos.purchase_orders.total_amount, sgpos.purchase_orders.created_at, sgpos.purchase_orders.updated_at, suppliers_1.id AS id_1, suppliers_1.company_id AS company_id_1, suppliers_1.name, suppliers_1.contact_person, suppliers_1.email, suppliers_1.phone, suppliers_1.address, suppliers_1.is_active, suppliers_1.created_at AS created_at_1, suppliers_1.updated_at AS updated_at_1 
FROM sgpos.purchase_orders LEFT OUTER JOIN sgpos.suppliers AS suppliers_1 ON suppliers_1.id = sgpos.purchase_orders.supplier_id 
WHERE sgpos.purchase_orders.company_id = $1::UUID AND sgpos.purchase_orders.outlet_id = $2::UUID ORDER BY sgpos.purchase_orders.order_date DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-06-22 07:56:39,746 INFO sqlalchemy.engine.Engine [generated in 0.00034s] (UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), 100, 0)
2025-06-22 07:56:39,755 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:56:42,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:56:43,001 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:56:43,001 INFO sqlalchemy.engine.Engine [generated in 0.00023s] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:56:43,004 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:02,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:02,858 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID AND sgpos.products.sku = $2::VARCHAR
2025-06-22 07:57:02,858 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (UUID('00000000-0000-0000-0000-000000000001'), '12345')
2025-06-22 07:57:02,864 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:02,865 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:02,867 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.products (id, company_id, category_id, supplier_id, sku, barcode, name, description, cost_price, selling_price, gst_rate, track_inventory, reorder_point, is_active) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::NUMERIC(19, 4), $10::NUMERIC(19, 4), $11::NUMERIC(5, 2), $12::BOOLEAN, $13::INTEGER, $14::BOOLEAN) RETURNING sgpos.products.created_at, sgpos.products.updated_at
2025-06-22 07:57:02,867 INFO sqlalchemy.engine.Engine [generated in 0.00027s] (UUID('5660a42e-5b26-44b3-af51-fab07b33632d'), UUID('00000000-0000-0000-0000-000000000001'), None, None, '12345', None, 'noodle', 'dsf sdfsdf', Decimal('1.0'), Decimal('2.0'), Decimal('9.00'), True, 0, True)
2025-06-22 07:57:02,871 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.id = $1::UUID
2025-06-22 07:57:02,872 INFO sqlalchemy.engine.Engine [generated in 0.00026s] (UUID('5660a42e-5b26-44b3-af51-fab07b33632d'),)
2025-06-22 07:57:02,874 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:04,003 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:04,003 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:57:04,003 INFO sqlalchemy.engine.Engine [cached since 21s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:57:04,006 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:26,457 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:26,458 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID AND sgpos.products.sku = $2::VARCHAR
2025-06-22 07:57:26,458 INFO sqlalchemy.engine.Engine [cached since 23.6s ago] (UUID('00000000-0000-0000-0000-000000000001'), '23456')
2025-06-22 07:57:26,461 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:26,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:26,463 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.products (id, company_id, category_id, supplier_id, sku, barcode, name, description, cost_price, selling_price, gst_rate, track_inventory, reorder_point, is_active) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::VARCHAR, $9::NUMERIC(19, 4), $10::NUMERIC(19, 4), $11::NUMERIC(5, 2), $12::BOOLEAN, $13::INTEGER, $14::BOOLEAN) RETURNING sgpos.products.created_at, sgpos.products.updated_at
2025-06-22 07:57:26,463 INFO sqlalchemy.engine.Engine [cached since 23.6s ago] (UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'), UUID('00000000-0000-0000-0000-000000000001'), None, None, '23456', None, 'rice', 'dsf dfdsf', Decimal('35.0'), Decimal('4.0'), Decimal('9.00'), True, 0, True)
2025-06-22 07:57:26,466 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.id = $1::UUID
2025-06-22 07:57:26,466 INFO sqlalchemy.engine.Engine [cached since 23.59s ago] (UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'),)
2025-06-22 07:57:26,467 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:27,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:27,700 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:57:27,700 INFO sqlalchemy.engine.Engine [cached since 44.7s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:57:27,703 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:31,818 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:31,819 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS sgpos_products_id, sgpos.products.company_id AS sgpos_products_company_id, sgpos.products.category_id AS sgpos_products_category_id, sgpos.products.supplier_id AS sgpos_products_supplier_id, sgpos.products.sku AS sgpos_products_sku, sgpos.products.barcode AS sgpos_products_barcode, sgpos.products.name AS sgpos_products_name, sgpos.products.description AS sgpos_products_description, sgpos.products.cost_price AS sgpos_products_cost_price, sgpos.products.selling_price AS sgpos_products_selling_price, sgpos.products.gst_rate AS sgpos_products_gst_rate, sgpos.products.track_inventory AS sgpos_products_track_inventory, sgpos.products.reorder_point AS sgpos_products_reorder_point, sgpos.products.is_active AS sgpos_products_is_active, sgpos.products.created_at AS sgpos_products_created_at, sgpos.products.updated_at AS sgpos_products_updated_at 
FROM sgpos.products 
WHERE sgpos.products.id = $1::UUID
2025-06-22 07:57:31,819 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'),)
2025-06-22 07:57:31,821 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:31,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:31,822 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS sgpos_products_id, sgpos.products.company_id AS sgpos_products_company_id, sgpos.products.category_id AS sgpos_products_category_id, sgpos.products.supplier_id AS sgpos_products_supplier_id, sgpos.products.sku AS sgpos_products_sku, sgpos.products.barcode AS sgpos_products_barcode, sgpos.products.name AS sgpos_products_name, sgpos.products.description AS sgpos_products_description, sgpos.products.cost_price AS sgpos_products_cost_price, sgpos.products.selling_price AS sgpos_products_selling_price, sgpos.products.gst_rate AS sgpos_products_gst_rate, sgpos.products.track_inventory AS sgpos_products_track_inventory, sgpos.products.reorder_point AS sgpos_products_reorder_point, sgpos.products.is_active AS sgpos_products_is_active, sgpos.products.created_at AS sgpos_products_created_at, sgpos.products.updated_at AS sgpos_products_updated_at 
FROM sgpos.products 
WHERE sgpos.products.id = $1::UUID
2025-06-22 07:57:31,822 INFO sqlalchemy.engine.Engine [cached since 0.003714s ago] (UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'),)
2025-06-22 07:57:31,825 INFO sqlalchemy.engine.Engine UPDATE sgpos.products SET is_active=$1::BOOLEAN, updated_at=now() WHERE sgpos.products.id = $2::UUID
2025-06-22 07:57:31,825 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (False, UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 07:57:31,826 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:33,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:33,306 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:57:33,306 INFO sqlalchemy.engine.Engine [cached since 50.31s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:57:33,309 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:38,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:38,330 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS sgpos_products_id, sgpos.products.company_id AS sgpos_products_company_id, sgpos.products.category_id AS sgpos_products_category_id, sgpos.products.supplier_id AS sgpos_products_supplier_id, sgpos.products.sku AS sgpos_products_sku, sgpos.products.barcode AS sgpos_products_barcode, sgpos.products.name AS sgpos_products_name, sgpos.products.description AS sgpos_products_description, sgpos.products.cost_price AS sgpos_products_cost_price, sgpos.products.selling_price AS sgpos_products_selling_price, sgpos.products.gst_rate AS sgpos_products_gst_rate, sgpos.products.track_inventory AS sgpos_products_track_inventory, sgpos.products.reorder_point AS sgpos_products_reorder_point, sgpos.products.is_active AS sgpos_products_is_active, sgpos.products.created_at AS sgpos_products_created_at, sgpos.products.updated_at AS sgpos_products_updated_at 
FROM sgpos.products 
WHERE sgpos.products.id = $1::UUID
2025-06-22 07:57:38,331 INFO sqlalchemy.engine.Engine [cached since 6.512s ago] (UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'),)
2025-06-22 07:57:38,332 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:38,333 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:38,333 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS sgpos_products_id, sgpos.products.company_id AS sgpos_products_company_id, sgpos.products.category_id AS sgpos_products_category_id, sgpos.products.supplier_id AS sgpos_products_supplier_id, sgpos.products.sku AS sgpos_products_sku, sgpos.products.barcode AS sgpos_products_barcode, sgpos.products.name AS sgpos_products_name, sgpos.products.description AS sgpos_products_description, sgpos.products.cost_price AS sgpos_products_cost_price, sgpos.products.selling_price AS sgpos_products_selling_price, sgpos.products.gst_rate AS sgpos_products_gst_rate, sgpos.products.track_inventory AS sgpos_products_track_inventory, sgpos.products.reorder_point AS sgpos_products_reorder_point, sgpos.products.is_active AS sgpos_products_is_active, sgpos.products.created_at AS sgpos_products_created_at, sgpos.products.updated_at AS sgpos_products_updated_at 
FROM sgpos.products 
WHERE sgpos.products.id = $1::UUID
2025-06-22 07:57:38,333 INFO sqlalchemy.engine.Engine [cached since 6.514s ago] (UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'),)
2025-06-22 07:57:38,335 INFO sqlalchemy.engine.Engine UPDATE sgpos.products SET is_active=$1::BOOLEAN, updated_at=now() WHERE sgpos.products.id = $2::UUID
2025-06-22 07:57:38,335 INFO sqlalchemy.engine.Engine [cached since 6.511s ago] (True, UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 07:57:38,337 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:40,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:40,061 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:57:40,061 INFO sqlalchemy.engine.Engine [cached since 57.06s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:57:40,063 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:44,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:44,947 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS product_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.products.barcode, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.cost_price, sgpos.products.selling_price, coalesce(sgpos.inventory.quantity_on_hand, $1::NUMERIC) AS quantity_on_hand, (SELECT name FROM sgpos.categories WHERE id = products.category_id) AS category_name 
FROM sgpos.products LEFT OUTER JOIN sgpos.inventory ON sgpos.inventory.product_id = sgpos.products.id AND sgpos.inventory.outlet_id = $2::UUID 
WHERE sgpos.products.company_id = $3::UUID ORDER BY sgpos.products.name 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-06-22 07:57:44,948 INFO sqlalchemy.engine.Engine [cached since 73.95s ago] (Decimal('0.0'), UUID('00000000-0000-0000-0000-000000000002'), UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:57:44,954 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:51,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:51,604 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID AND sgpos.products.is_active = true AND (sgpos.products.sku ILIKE $2::VARCHAR OR sgpos.products.name ILIKE $3::VARCHAR OR sgpos.products.barcode ILIKE $4::VARCHAR) 
 LIMIT $5::INTEGER OFFSET $6::INTEGER
2025-06-22 07:57:51,604 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (UUID('00000000-0000-0000-0000-000000000001'), '%1234%', '%1234%', '%1234%', 1, 0)
2025-06-22 07:57:51,607 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:57:51,608 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:57:51,609 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.quantity_on_hand 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL
2025-06-22 07:57:51,609 INFO sqlalchemy.engine.Engine [generated in 0.00013s] (UUID('00000000-0000-0000-0000-000000000002'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'))
2025-06-22 07:57:51,611 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:03,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:03,204 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.quantity_on_hand 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL
2025-06-22 07:58:03,204 INFO sqlalchemy.engine.Engine [cached since 11.6s ago] (UUID('00000000-0000-0000-0000-000000000002'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'))
2025-06-22 07:58:03,209 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.id, sgpos.inventory.outlet_id, sgpos.inventory.product_id, sgpos.inventory.variant_id, sgpos.inventory.quantity_on_hand, sgpos.inventory.created_at, sgpos.inventory.updated_at 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL FOR UPDATE
2025-06-22 07:58:03,209 INFO sqlalchemy.engine.Engine [generated in 0.00025s] (UUID('00000000-0000-0000-0000-000000000002'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'))
2025-06-22 07:58:03,212 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.inventory (id, outlet_id, product_id, variant_id, quantity_on_hand) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::NUMERIC(15, 4)) RETURNING sgpos.inventory.created_at, sgpos.inventory.updated_at
2025-06-22 07:58:03,212 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (UUID('27ed67c9-ef9c-4b5e-9645-5bd5257110dc'), UUID('00000000-0000-0000-0000-000000000002'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'), None, Decimal('10'))
2025-06-22 07:58:03,220 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.stock_movements (id, company_id, outlet_id, product_id, variant_id, movement_type, quantity_change, reference_id, reference_type, notes, created_by_user_id, created_at) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::VARCHAR, $7::NUMERIC(15, 4), $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::UUID, $12::TIMESTAMP WITH TIME ZONE)
2025-06-22 07:58:03,220 INFO sqlalchemy.engine.Engine [generated in 0.00042s] (UUID('78754a3c-b8d3-4664-89f0-e0ef7146d247'), UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'), None, 'ADJUSTMENT_IN', Decimal('10'), None, 'STOCK_ADJUSTMENT', 'new shipment', UUID('00000000-0000-0000-0000-000000000003'), datetime.datetime(2025, 6, 21, 23, 58, 3, 219999))
2025-06-22 07:58:03,226 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:04,541 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:04,541 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS product_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.products.barcode, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.cost_price, sgpos.products.selling_price, coalesce(sgpos.inventory.quantity_on_hand, $1::NUMERIC) AS quantity_on_hand, (SELECT name FROM sgpos.categories WHERE id = products.category_id) AS category_name 
FROM sgpos.products LEFT OUTER JOIN sgpos.inventory ON sgpos.inventory.product_id = sgpos.products.id AND sgpos.inventory.outlet_id = $2::UUID 
WHERE sgpos.products.company_id = $3::UUID ORDER BY sgpos.products.name 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-06-22 07:58:04,541 INFO sqlalchemy.engine.Engine [cached since 93.55s ago] (Decimal('0.0'), UUID('00000000-0000-0000-0000-000000000002'), UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:58:04,545 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:12,011 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:12,012 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID AND sgpos.products.is_active = true AND (sgpos.products.sku ILIKE $2::VARCHAR OR sgpos.products.name ILIKE $3::VARCHAR OR sgpos.products.barcode ILIKE $4::VARCHAR) 
 LIMIT $5::INTEGER OFFSET $6::INTEGER
2025-06-22 07:58:12,012 INFO sqlalchemy.engine.Engine [cached since 20.41s ago] (UUID('00000000-0000-0000-0000-000000000001'), '%23456%', '%23456%', '%23456%', 1, 0)
2025-06-22 07:58:12,013 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:12,015 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:12,015 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.quantity_on_hand 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL
2025-06-22 07:58:12,015 INFO sqlalchemy.engine.Engine [cached since 20.41s ago] (UUID('00000000-0000-0000-0000-000000000002'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 07:58:12,016 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:21,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:21,629 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.quantity_on_hand 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL
2025-06-22 07:58:21,629 INFO sqlalchemy.engine.Engine [cached since 30.02s ago] (UUID('00000000-0000-0000-0000-000000000002'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 07:58:21,631 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.id, sgpos.inventory.outlet_id, sgpos.inventory.product_id, sgpos.inventory.variant_id, sgpos.inventory.quantity_on_hand, sgpos.inventory.created_at, sgpos.inventory.updated_at 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL FOR UPDATE
2025-06-22 07:58:21,631 INFO sqlalchemy.engine.Engine [cached since 18.42s ago] (UUID('00000000-0000-0000-0000-000000000002'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 07:58:21,632 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.inventory (id, outlet_id, product_id, variant_id, quantity_on_hand) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::NUMERIC(15, 4)) RETURNING sgpos.inventory.created_at, sgpos.inventory.updated_at
2025-06-22 07:58:21,632 INFO sqlalchemy.engine.Engine [cached since 18.42s ago] (UUID('02ea68ff-4f8f-4738-bd5f-f382adb3101f'), UUID('00000000-0000-0000-0000-000000000002'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'), None, Decimal('10'))
2025-06-22 07:58:21,634 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.stock_movements (id, company_id, outlet_id, product_id, variant_id, movement_type, quantity_change, reference_id, reference_type, notes, created_by_user_id, created_at) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::VARCHAR, $7::NUMERIC(15, 4), $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::UUID, $12::TIMESTAMP WITH TIME ZONE)
2025-06-22 07:58:21,635 INFO sqlalchemy.engine.Engine [cached since 18.42s ago] (UUID('51c932ed-1655-4e45-8c80-aaa162330ae0'), UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'), None, 'ADJUSTMENT_IN', Decimal('10'), None, 'STOCK_ADJUSTMENT', 'new arrival', UUID('00000000-0000-0000-0000-000000000003'), datetime.datetime(2025, 6, 21, 23, 58, 21, 634913))
2025-06-22 07:58:21,637 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:22,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:22,982 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS product_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.products.barcode, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.cost_price, sgpos.products.selling_price, coalesce(sgpos.inventory.quantity_on_hand, $1::NUMERIC) AS quantity_on_hand, (SELECT name FROM sgpos.categories WHERE id = products.category_id) AS category_name 
FROM sgpos.products LEFT OUTER JOIN sgpos.inventory ON sgpos.inventory.product_id = sgpos.products.id AND sgpos.inventory.outlet_id = $2::UUID 
WHERE sgpos.products.company_id = $3::UUID ORDER BY sgpos.products.name 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-06-22 07:58:22,982 INFO sqlalchemy.engine.Engine [cached since 112s ago] (Decimal('0.0'), UUID('00000000-0000-0000-0000-000000000002'), UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:58:22,986 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:25,141 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:25,146 INFO sqlalchemy.engine.Engine SELECT sgpos.stock_movements.id, sgpos.stock_movements.product_id, sgpos.stock_movements.variant_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.outlets.name AS outlet_name, sgpos.stock_movements.movement_type, sgpos.stock_movements.quantity_change, sgpos.stock_movements.reference_id, sgpos.stock_movements.notes, sgpos.users.full_name AS created_by_user_name, sgpos.stock_movements.created_at 
FROM sgpos.stock_movements JOIN sgpos.products ON sgpos.stock_movements.product_id = sgpos.products.id JOIN sgpos.outlets ON sgpos.stock_movements.outlet_id = sgpos.outlets.id LEFT OUTER JOIN sgpos.users ON sgpos.stock_movements.created_by_user_id = sgpos.users.id 
WHERE sgpos.stock_movements.company_id = $1::UUID AND sgpos.stock_movements.product_id = $2::UUID ORDER BY sgpos.stock_movements.created_at DESC
2025-06-22 07:58:25,146 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (UUID('00000000-0000-0000-0000-000000000001'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'))
2025-06-22 07:58:25,151 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:26,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:26,797 INFO sqlalchemy.engine.Engine SELECT sgpos.purchase_orders.id, sgpos.purchase_orders.company_id, sgpos.purchase_orders.outlet_id, sgpos.purchase_orders.supplier_id, sgpos.purchase_orders.po_number, sgpos.purchase_orders.order_date, sgpos.purchase_orders.expected_delivery_date, sgpos.purchase_orders.status, sgpos.purchase_orders.notes, sgpos.purchase_orders.total_amount, sgpos.purchase_orders.created_at, sgpos.purchase_orders.updated_at, suppliers_1.id AS id_1, suppliers_1.company_id AS company_id_1, suppliers_1.name, suppliers_1.contact_person, suppliers_1.email, suppliers_1.phone, suppliers_1.address, suppliers_1.is_active, suppliers_1.created_at AS created_at_1, suppliers_1.updated_at AS updated_at_1 
FROM sgpos.purchase_orders LEFT OUTER JOIN sgpos.suppliers AS suppliers_1 ON suppliers_1.id = sgpos.purchase_orders.supplier_id 
WHERE sgpos.purchase_orders.company_id = $1::UUID AND sgpos.purchase_orders.outlet_id = $2::UUID ORDER BY sgpos.purchase_orders.order_date DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-06-22 07:58:26,797 INFO sqlalchemy.engine.Engine [cached since 107.1s ago] (UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), 100, 0)
2025-06-22 07:58:26,800 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:27,798 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:27,799 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS product_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.products.barcode, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.cost_price, sgpos.products.selling_price, coalesce(sgpos.inventory.quantity_on_hand, $1::NUMERIC) AS quantity_on_hand, (SELECT name FROM sgpos.categories WHERE id = products.category_id) AS category_name 
FROM sgpos.products LEFT OUTER JOIN sgpos.inventory ON sgpos.inventory.product_id = sgpos.products.id AND sgpos.inventory.outlet_id = $2::UUID 
WHERE sgpos.products.company_id = $3::UUID ORDER BY sgpos.products.name 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-06-22 07:58:27,799 INFO sqlalchemy.engine.Engine [cached since 116.8s ago] (Decimal('0.0'), UUID('00000000-0000-0000-0000-000000000002'), UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:58:27,802 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:40,298 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:40,298 INFO sqlalchemy.engine.Engine SELECT sgpos.stock_movements.id, sgpos.stock_movements.product_id, sgpos.stock_movements.variant_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.outlets.name AS outlet_name, sgpos.stock_movements.movement_type, sgpos.stock_movements.quantity_change, sgpos.stock_movements.reference_id, sgpos.stock_movements.notes, sgpos.users.full_name AS created_by_user_name, sgpos.stock_movements.created_at 
FROM sgpos.stock_movements JOIN sgpos.products ON sgpos.stock_movements.product_id = sgpos.products.id JOIN sgpos.outlets ON sgpos.stock_movements.outlet_id = sgpos.outlets.id LEFT OUTER JOIN sgpos.users ON sgpos.stock_movements.created_by_user_id = sgpos.users.id 
WHERE sgpos.stock_movements.company_id = $1::UUID AND sgpos.stock_movements.product_id = $2::UUID ORDER BY sgpos.stock_movements.created_at DESC
2025-06-22 07:58:40,299 INFO sqlalchemy.engine.Engine [cached since 15.15s ago] (UUID('00000000-0000-0000-0000-000000000001'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'))
2025-06-22 07:58:40,305 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:41,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:41,806 INFO sqlalchemy.engine.Engine SELECT sgpos.purchase_orders.id, sgpos.purchase_orders.company_id, sgpos.purchase_orders.outlet_id, sgpos.purchase_orders.supplier_id, sgpos.purchase_orders.po_number, sgpos.purchase_orders.order_date, sgpos.purchase_orders.expected_delivery_date, sgpos.purchase_orders.status, sgpos.purchase_orders.notes, sgpos.purchase_orders.total_amount, sgpos.purchase_orders.created_at, sgpos.purchase_orders.updated_at, suppliers_1.id AS id_1, suppliers_1.company_id AS company_id_1, suppliers_1.name, suppliers_1.contact_person, suppliers_1.email, suppliers_1.phone, suppliers_1.address, suppliers_1.is_active, suppliers_1.created_at AS created_at_1, suppliers_1.updated_at AS updated_at_1 
FROM sgpos.purchase_orders LEFT OUTER JOIN sgpos.suppliers AS suppliers_1 ON suppliers_1.id = sgpos.purchase_orders.supplier_id 
WHERE sgpos.purchase_orders.company_id = $1::UUID AND sgpos.purchase_orders.outlet_id = $2::UUID ORDER BY sgpos.purchase_orders.order_date DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-06-22 07:58:41,806 INFO sqlalchemy.engine.Engine [cached since 122.1s ago] (UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), 100, 0)
2025-06-22 07:58:41,813 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:58:45,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:58:45,064 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:58:45,064 INFO sqlalchemy.engine.Engine [generated in 0.00021s] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:58:45,068 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:31,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:31,290 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $1::UUID AND sgpos.customers.customer_code = $2::VARCHAR
2025-06-22 07:59:31,290 INFO sqlalchemy.engine.Engine [generated in 0.00028s] (UUID('00000000-0000-0000-0000-000000000001'), '2001')
2025-06-22 07:59:31,295 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $1::UUID AND sgpos.customers.email = $2::VARCHAR
2025-06-22 07:59:31,295 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (UUID('00000000-0000-0000-0000-000000000001'), 'john@lee.com')
2025-06-22 07:59:31,298 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.customers (id, company_id, customer_code, name, email, phone, address, loyalty_points, credit_limit, is_active) VALUES ($1::UUID, $2::UUID, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR, $7::VARCHAR, $8::INTEGER, $9::NUMERIC(19, 2), $10::BOOLEAN) RETURNING sgpos.customers.created_at, sgpos.customers.updated_at
2025-06-22 07:59:31,298 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'), UUID('00000000-0000-0000-0000-000000000001'), '2001', 'John Lee', 'john@lee.com', '93432565', '10 Haig Road\n#08-10', 0, Decimal('0.0'), True)
2025-06-22 07:59:31,301 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.id = $1::UUID
2025-06-22 07:59:31,301 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'),)
2025-06-22 07:59:31,302 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:32,753 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:32,754 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:59:32,754 INFO sqlalchemy.engine.Engine [cached since 47.69s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:59:32,756 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:36,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:36,923 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id AS sgpos_customers_id, sgpos.customers.company_id AS sgpos_customers_company_id, sgpos.customers.customer_code AS sgpos_customers_customer_code, sgpos.customers.name AS sgpos_customers_name, sgpos.customers.email AS sgpos_customers_email, sgpos.customers.phone AS sgpos_customers_phone, sgpos.customers.address AS sgpos_customers_address, sgpos.customers.loyalty_points AS sgpos_customers_loyalty_points, sgpos.customers.credit_limit AS sgpos_customers_credit_limit, sgpos.customers.is_active AS sgpos_customers_is_active, sgpos.customers.created_at AS sgpos_customers_created_at, sgpos.customers.updated_at AS sgpos_customers_updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.id = $1::UUID
2025-06-22 07:59:36,923 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'),)
2025-06-22 07:59:36,926 INFO sqlalchemy.engine.Engine UPDATE sgpos.customers SET is_active=$1::BOOLEAN, updated_at=now() WHERE sgpos.customers.id = $2::UUID
2025-06-22 07:59:36,926 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (False, UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'))
2025-06-22 07:59:36,927 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:38,096 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:38,097 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:59:38,097 INFO sqlalchemy.engine.Engine [cached since 53.03s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:59:38,099 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:42,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:42,256 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id AS sgpos_customers_id, sgpos.customers.company_id AS sgpos_customers_company_id, sgpos.customers.customer_code AS sgpos_customers_customer_code, sgpos.customers.name AS sgpos_customers_name, sgpos.customers.email AS sgpos_customers_email, sgpos.customers.phone AS sgpos_customers_phone, sgpos.customers.address AS sgpos_customers_address, sgpos.customers.loyalty_points AS sgpos_customers_loyalty_points, sgpos.customers.credit_limit AS sgpos_customers_credit_limit, sgpos.customers.is_active AS sgpos_customers_is_active, sgpos.customers.created_at AS sgpos_customers_created_at, sgpos.customers.updated_at AS sgpos_customers_updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.id = $1::UUID
2025-06-22 07:59:42,256 INFO sqlalchemy.engine.Engine [cached since 5.334s ago] (UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'),)
2025-06-22 07:59:42,258 INFO sqlalchemy.engine.Engine UPDATE sgpos.customers SET is_active=$1::BOOLEAN, updated_at=now() WHERE sgpos.customers.id = $2::UUID
2025-06-22 07:59:42,258 INFO sqlalchemy.engine.Engine [cached since 5.333s ago] (True, UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'))
2025-06-22 07:59:42,259 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:43,435 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:43,436 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $1::UUID 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-06-22 07:59:43,436 INFO sqlalchemy.engine.Engine [cached since 58.37s ago] (UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 07:59:43,438 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:53,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:53,585 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id, sgpos.customers.company_id, sgpos.customers.customer_code, sgpos.customers.name, sgpos.customers.email, sgpos.customers.phone, sgpos.customers.address, sgpos.customers.loyalty_points, sgpos.customers.credit_limit, sgpos.customers.is_active, sgpos.customers.created_at, sgpos.customers.updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $1::UUID AND sgpos.customers.is_active = true AND (sgpos.customers.customer_code ILIKE $2::VARCHAR OR sgpos.customers.name ILIKE $3::VARCHAR OR sgpos.customers.email ILIKE $4::VARCHAR OR sgpos.customers.phone ILIKE $5::VARCHAR) 
 LIMIT $6::INTEGER OFFSET $7::INTEGER
2025-06-22 07:59:53,586 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (UUID('00000000-0000-0000-0000-000000000001'), '%2001%', '%2001%', '%2001%', '%2001%', 1, 0)
2025-06-22 07:59:53,588 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 07:59:58,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 07:59:58,024 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID AND sgpos.products.is_active = true AND (sgpos.products.sku ILIKE $2::VARCHAR OR sgpos.products.name ILIKE $3::VARCHAR OR sgpos.products.barcode ILIKE $4::VARCHAR) 
 LIMIT $5::INTEGER OFFSET $6::INTEGER
2025-06-22 07:59:58,025 INFO sqlalchemy.engine.Engine [cached since 126.4s ago] (UUID('00000000-0000-0000-0000-000000000001'), '%12345%', '%12345%', '%12345%', 1, 0)
2025-06-22 07:59:58,027 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:01,576 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:01,576 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.company_id = $1::UUID AND sgpos.products.is_active = true AND (sgpos.products.sku ILIKE $2::VARCHAR OR sgpos.products.name ILIKE $3::VARCHAR OR sgpos.products.barcode ILIKE $4::VARCHAR) 
 LIMIT $5::INTEGER OFFSET $6::INTEGER
2025-06-22 08:00:01,576 INFO sqlalchemy.engine.Engine [cached since 130s ago] (UUID('00000000-0000-0000-0000-000000000001'), '%23456%', '%23456%', '%23456%', 1, 0)
2025-06-22 08:00:01,578 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:02,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:02,904 INFO sqlalchemy.engine.Engine SELECT sgpos.payment_methods.id, sgpos.payment_methods.company_id, sgpos.payment_methods.name, sgpos.payment_methods.type, sgpos.payment_methods.is_active, sgpos.payment_methods.created_at, sgpos.payment_methods.updated_at 
FROM sgpos.payment_methods 
WHERE sgpos.payment_methods.company_id = $1::UUID AND sgpos.payment_methods.is_active = true ORDER BY sgpos.payment_methods.name
2025-06-22 08:00:02,905 INFO sqlalchemy.engine.Engine [generated in 0.00024s] (UUID('00000000-0000-0000-0000-000000000001'),)
2025-06-22 08:00:02,908 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:06,300 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:06,301 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id, sgpos.products.company_id, sgpos.products.category_id, sgpos.products.supplier_id, sgpos.products.sku, sgpos.products.barcode, sgpos.products.name, sgpos.products.description, sgpos.products.cost_price, sgpos.products.selling_price, sgpos.products.gst_rate, sgpos.products.track_inventory, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.created_at, sgpos.products.updated_at 
FROM sgpos.products 
WHERE sgpos.products.id IN ($1::UUID, $2::UUID)
2025-06-22 08:00:06,301 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (UUID('5660a42e-5b26-44b3-af51-fab07b33632d'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 08:00:06,303 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:06,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:06,304 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.id, sgpos.inventory.outlet_id, sgpos.inventory.product_id, sgpos.inventory.variant_id, sgpos.inventory.quantity_on_hand, sgpos.inventory.created_at, sgpos.inventory.updated_at 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL FOR UPDATE
2025-06-22 08:00:06,304 INFO sqlalchemy.engine.Engine [cached since 123.1s ago] (UUID('00000000-0000-0000-0000-000000000002'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'))
2025-06-22 08:00:06,307 INFO sqlalchemy.engine.Engine UPDATE sgpos.inventory SET quantity_on_hand=$1::NUMERIC(15, 4), updated_at=now() WHERE sgpos.inventory.id = $2::UUID
2025-06-22 08:00:06,307 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (Decimal('9.0000'), UUID('27ed67c9-ef9c-4b5e-9645-5bd5257110dc'))
2025-06-22 08:00:06,309 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.stock_movements (id, company_id, outlet_id, product_id, variant_id, movement_type, quantity_change, reference_id, reference_type, notes, created_by_user_id, created_at) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::VARCHAR, $7::NUMERIC(15, 4), $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::UUID, $12::TIMESTAMP WITH TIME ZONE)
2025-06-22 08:00:06,309 INFO sqlalchemy.engine.Engine [cached since 123.1s ago] (UUID('04508602-6424-4214-a568-e4dab9e2e8fc'), UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'), None, 'SALE', Decimal('-1'), None, 'SALES_TRANSACTION', None, UUID('00000000-0000-0000-0000-000000000003'), datetime.datetime(2025, 6, 22, 0, 0, 6, 308987))
2025-06-22 08:00:06,313 INFO sqlalchemy.engine.Engine SELECT sgpos.inventory.id, sgpos.inventory.outlet_id, sgpos.inventory.product_id, sgpos.inventory.variant_id, sgpos.inventory.quantity_on_hand, sgpos.inventory.created_at, sgpos.inventory.updated_at 
FROM sgpos.inventory 
WHERE sgpos.inventory.outlet_id = $1::UUID AND sgpos.inventory.product_id = $2::UUID AND sgpos.inventory.variant_id IS NULL FOR UPDATE
2025-06-22 08:00:06,313 INFO sqlalchemy.engine.Engine [cached since 123.1s ago] (UUID('00000000-0000-0000-0000-000000000002'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 08:00:06,315 INFO sqlalchemy.engine.Engine UPDATE sgpos.inventory SET quantity_on_hand=$1::NUMERIC(15, 4), updated_at=now() WHERE sgpos.inventory.id = $2::UUID
2025-06-22 08:00:06,315 INFO sqlalchemy.engine.Engine [cached since 0.008229s ago] (Decimal('9.0000'), UUID('02ea68ff-4f8f-4738-bd5f-f382adb3101f'))
2025-06-22 08:00:06,316 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.stock_movements (id, company_id, outlet_id, product_id, variant_id, movement_type, quantity_change, reference_id, reference_type, notes, created_by_user_id, created_at) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::UUID, $6::VARCHAR, $7::NUMERIC(15, 4), $8::UUID, $9::VARCHAR, $10::VARCHAR, $11::UUID, $12::TIMESTAMP WITH TIME ZONE)
2025-06-22 08:00:06,316 INFO sqlalchemy.engine.Engine [cached since 123.1s ago] (UUID('bcaae825-187d-4a3e-a5e0-54ce306dd101'), UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'), None, 'SALE', Decimal('-1'), None, 'SALES_TRANSACTION', None, UUID('00000000-0000-0000-0000-000000000003'), datetime.datetime(2025, 6, 22, 0, 0, 6, 316545))
2025-06-22 08:00:06,321 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.sales_transactions (id, company_id, outlet_id, transaction_number, transaction_date, customer_id, cashier_id, subtotal, tax_amount, discount_amount, rounding_adjustment, total_amount, status, notes) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::VARCHAR, $5::TIMESTAMP WITH TIME ZONE, $6::UUID, $7::UUID, $8::NUMERIC(19, 2), $9::NUMERIC(19, 2), $10::NUMERIC(19, 2), $11::NUMERIC(19, 2), $12::NUMERIC(19, 2), $13::VARCHAR, $14::VARCHAR) RETURNING sgpos.sales_transactions.created_at, sgpos.sales_transactions.updated_at
2025-06-22 08:00:06,322 INFO sqlalchemy.engine.Engine [generated in 0.00030s] (UUID('51e72339-14b2-46ce-b47f-6254469b919c'), UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), 'SALE-601D648D', datetime.datetime(2025, 6, 22, 0, 0, 6, 321891), UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'), UUID('00000000-0000-0000-0000-000000000003'), Decimal('6.00'), Decimal('0.54'), 0, 0, Decimal('6.54'), 'COMPLETED', None)
2025-06-22 08:00:06,327 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.payments (id, sales_transaction_id, payment_method_id, amount, reference_number, created_at) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::NUMERIC(19, 2), $5::VARCHAR, $6::TIMESTAMP WITH TIME ZONE)
2025-06-22 08:00:06,327 INFO sqlalchemy.engine.Engine [generated in 0.00030s] (UUID('3faf6ea1-6a81-4ee0-a3a9-338398345fc0'), UUID('51e72339-14b2-46ce-b47f-6254469b919c'), UUID('a63fa760-b9bf-4c61-8951-fe380f3a5393'), Decimal('6.54'), None, datetime.datetime(2025, 6, 22, 0, 0, 6, 327530))
2025-06-22 08:00:06,332 INFO sqlalchemy.engine.Engine INSERT INTO sgpos.sales_transaction_items (id, sales_transaction_id, product_id, variant_id, quantity, unit_price, cost_price, line_total) VALUES ($1::UUID, $2::UUID, $3::UUID, $4::UUID, $5::NUMERIC(15, 4), $6::NUMERIC(19, 4), $7::NUMERIC(19, 4), $8::NUMERIC(19, 2)), ($9::UUID, $10::UUID, $11::UUID, $12::UUID, $13::NUMERIC(15, 4), $14::NUMERIC(19, 4), $15::NUMERIC(19, 4), $16::NUMERIC(19, 2))
2025-06-22 08:00:06,332 INFO sqlalchemy.engine.Engine [generated in 0.00017s (insertmanyvalues) 1/1 (unordered)] (UUID('26e92871-83fa-4646-a46e-a2d69648208e'), UUID('51e72339-14b2-46ce-b47f-6254469b919c'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'), None, Decimal('1'), Decimal('2.0000'), Decimal('1.0000'), Decimal('2.00'), UUID('4577d1f0-a8e4-4a8a-bc64-3ee61a1b00ad'), UUID('51e72339-14b2-46ce-b47f-6254469b919c'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'), None, Decimal('1'), Decimal('4.0000'), Decimal('35.0000'), Decimal('4.00'))
2025-06-22 08:00:06,336 INFO sqlalchemy.engine.Engine UPDATE sgpos.stock_movements SET reference_id=$1::UUID WHERE sgpos.stock_movements.id = $2::UUID
2025-06-22 08:00:06,337 INFO sqlalchemy.engine.Engine [generated in 0.00017s] [(UUID('51e72339-14b2-46ce-b47f-6254469b919c'), UUID('04508602-6424-4214-a568-e4dab9e2e8fc')), (UUID('51e72339-14b2-46ce-b47f-6254469b919c'), UUID('bcaae825-187d-4a3e-a5e0-54ce306dd101'))]
2025-06-22 08:00:06,339 INFO sqlalchemy.engine.Engine SELECT sgpos.customers.id AS sgpos_customers_id, sgpos.customers.company_id AS sgpos_customers_company_id, sgpos.customers.customer_code AS sgpos_customers_customer_code, sgpos.customers.name AS sgpos_customers_name, sgpos.customers.email AS sgpos_customers_email, sgpos.customers.phone AS sgpos_customers_phone, sgpos.customers.address AS sgpos_customers_address, sgpos.customers.loyalty_points AS sgpos_customers_loyalty_points, sgpos.customers.credit_limit AS sgpos_customers_credit_limit, sgpos.customers.is_active AS sgpos_customers_is_active, sgpos.customers.created_at AS sgpos_customers_created_at, sgpos.customers.updated_at AS sgpos_customers_updated_at 
FROM sgpos.customers 
WHERE sgpos.customers.id = $1::UUID
2025-06-22 08:00:06,339 INFO sqlalchemy.engine.Engine [cached since 29.42s ago] (UUID('1b0ab3bb-460b-46a4-820f-76d2c91b3adc'),)
2025-06-22 08:00:06,341 INFO sqlalchemy.engine.Engine SELECT sgpos.users.id, sgpos.users.company_id, sgpos.users.username, sgpos.users.email, sgpos.users.password_hash, sgpos.users.full_name, sgpos.users.is_active, sgpos.users.last_login_at, sgpos.users.created_at, sgpos.users.updated_at 
FROM sgpos.users 
WHERE sgpos.users.id = $1::UUID
2025-06-22 08:00:06,341 INFO sqlalchemy.engine.Engine [cached since 275.1s ago] (UUID('00000000-0000-0000-0000-000000000003'),)
2025-06-22 08:00:06,344 INFO sqlalchemy.engine.Engine SELECT sgpos.user_roles.user_id AS sgpos_user_roles_user_id, sgpos.user_roles.role_id AS sgpos_user_roles_role_id, sgpos.user_roles.outlet_id AS sgpos_user_roles_outlet_id 
FROM sgpos.user_roles 
WHERE sgpos.user_roles.user_id IN ($1::UUID)
2025-06-22 08:00:06,344 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] (UUID('00000000-0000-0000-0000-000000000003'),)
2025-06-22 08:00:06,345 INFO sqlalchemy.engine.Engine SELECT sgpos.roles.id AS sgpos_roles_id, sgpos.roles.company_id AS sgpos_roles_company_id, sgpos.roles.name AS sgpos_roles_name, sgpos.roles.description AS sgpos_roles_description, sgpos.roles.is_system_role AS sgpos_roles_is_system_role 
FROM sgpos.roles 
WHERE sgpos.roles.id IN ($1::UUID)
2025-06-22 08:00:06,345 INFO sqlalchemy.engine.Engine [cached since 325.4s ago] (UUID('966e9a76-d1d1-4084-b6a2-93a82f672c7b'),)
2025-06-22 08:00:06,346 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:14,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:14,115 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS product_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.products.barcode, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.cost_price, sgpos.products.selling_price, coalesce(sgpos.inventory.quantity_on_hand, $1::NUMERIC) AS quantity_on_hand, (SELECT name FROM sgpos.categories WHERE id = products.category_id) AS category_name 
FROM sgpos.products LEFT OUTER JOIN sgpos.inventory ON sgpos.inventory.product_id = sgpos.products.id AND sgpos.inventory.outlet_id = $2::UUID 
WHERE sgpos.products.company_id = $3::UUID ORDER BY sgpos.products.name 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-06-22 08:00:14,115 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] (Decimal('0.0'), UUID('00000000-0000-0000-0000-000000000002'), UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 08:00:14,119 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:15,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:15,742 INFO sqlalchemy.engine.Engine SELECT sgpos.stock_movements.id, sgpos.stock_movements.product_id, sgpos.stock_movements.variant_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.outlets.name AS outlet_name, sgpos.stock_movements.movement_type, sgpos.stock_movements.quantity_change, sgpos.stock_movements.reference_id, sgpos.stock_movements.notes, sgpos.users.full_name AS created_by_user_name, sgpos.stock_movements.created_at 
FROM sgpos.stock_movements JOIN sgpos.products ON sgpos.stock_movements.product_id = sgpos.products.id JOIN sgpos.outlets ON sgpos.stock_movements.outlet_id = sgpos.outlets.id LEFT OUTER JOIN sgpos.users ON sgpos.stock_movements.created_by_user_id = sgpos.users.id 
WHERE sgpos.stock_movements.company_id = $1::UUID AND sgpos.stock_movements.product_id = $2::UUID ORDER BY sgpos.stock_movements.created_at DESC
2025-06-22 08:00:15,742 INFO sqlalchemy.engine.Engine [cached since 110.6s ago] (UUID('00000000-0000-0000-0000-000000000001'), UUID('5660a42e-5b26-44b3-af51-fab07b33632d'))
2025-06-22 08:00:15,745 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:18,651 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:18,652 INFO sqlalchemy.engine.Engine SELECT sgpos.products.id AS product_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.products.barcode, sgpos.products.reorder_point, sgpos.products.is_active, sgpos.products.cost_price, sgpos.products.selling_price, coalesce(sgpos.inventory.quantity_on_hand, $1::NUMERIC) AS quantity_on_hand, (SELECT name FROM sgpos.categories WHERE id = products.category_id) AS category_name 
FROM sgpos.products LEFT OUTER JOIN sgpos.inventory ON sgpos.inventory.product_id = sgpos.products.id AND sgpos.inventory.outlet_id = $2::UUID 
WHERE sgpos.products.company_id = $3::UUID ORDER BY sgpos.products.name 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-06-22 08:00:18,652 INFO sqlalchemy.engine.Engine [cached since 227.7s ago] (Decimal('0.0'), UUID('00000000-0000-0000-0000-000000000002'), UUID('00000000-0000-0000-0000-000000000001'), 100, 0)
2025-06-22 08:00:18,655 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:19,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:19,686 INFO sqlalchemy.engine.Engine SELECT sgpos.stock_movements.id, sgpos.stock_movements.product_id, sgpos.stock_movements.variant_id, sgpos.products.name AS product_name, sgpos.products.sku, sgpos.outlets.name AS outlet_name, sgpos.stock_movements.movement_type, sgpos.stock_movements.quantity_change, sgpos.stock_movements.reference_id, sgpos.stock_movements.notes, sgpos.users.full_name AS created_by_user_name, sgpos.stock_movements.created_at 
FROM sgpos.stock_movements JOIN sgpos.products ON sgpos.stock_movements.product_id = sgpos.products.id JOIN sgpos.outlets ON sgpos.stock_movements.outlet_id = sgpos.outlets.id LEFT OUTER JOIN sgpos.users ON sgpos.stock_movements.created_by_user_id = sgpos.users.id 
WHERE sgpos.stock_movements.company_id = $1::UUID AND sgpos.stock_movements.product_id = $2::UUID ORDER BY sgpos.stock_movements.created_at DESC
2025-06-22 08:00:19,686 INFO sqlalchemy.engine.Engine [cached since 114.5s ago] (UUID('00000000-0000-0000-0000-000000000001'), UUID('6b189e52-5400-4926-9ff9-da6978eb6ec1'))
2025-06-22 08:00:19,690 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:24,129 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:24,130 INFO sqlalchemy.engine.Engine SELECT sgpos.purchase_orders.id, sgpos.purchase_orders.company_id, sgpos.purchase_orders.outlet_id, sgpos.purchase_orders.supplier_id, sgpos.purchase_orders.po_number, sgpos.purchase_orders.order_date, sgpos.purchase_orders.expected_delivery_date, sgpos.purchase_orders.status, sgpos.purchase_orders.notes, sgpos.purchase_orders.total_amount, sgpos.purchase_orders.created_at, sgpos.purchase_orders.updated_at, suppliers_1.id AS id_1, suppliers_1.company_id AS company_id_1, suppliers_1.name, suppliers_1.contact_person, suppliers_1.email, suppliers_1.phone, suppliers_1.address, suppliers_1.is_active, suppliers_1.created_at AS created_at_1, suppliers_1.updated_at AS updated_at_1 
FROM sgpos.purchase_orders LEFT OUTER JOIN sgpos.suppliers AS suppliers_1 ON suppliers_1.id = sgpos.purchase_orders.supplier_id 
WHERE sgpos.purchase_orders.company_id = $1::UUID AND sgpos.purchase_orders.outlet_id = $2::UUID ORDER BY sgpos.purchase_orders.order_date DESC 
 LIMIT $3::INTEGER OFFSET $4::INTEGER
2025-06-22 08:00:24,130 INFO sqlalchemy.engine.Engine [cached since 224.4s ago] (UUID('00000000-0000-0000-0000-000000000001'), UUID('00000000-0000-0000-0000-000000000002'), 100, 0)
2025-06-22 08:00:24,133 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:25,576 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:25,578 INFO sqlalchemy.engine.Engine SELECT sgpos.suppliers.id, sgpos.suppliers.company_id, sgpos.suppliers.name, sgpos.suppliers.contact_person, sgpos.suppliers.email, sgpos.suppliers.phone, sgpos.suppliers.address, sgpos.suppliers.is_active, sgpos.suppliers.created_at, sgpos.suppliers.updated_at 
FROM sgpos.suppliers 
WHERE sgpos.suppliers.company_id = $1::UUID AND sgpos.suppliers.is_active = true ORDER BY sgpos.suppliers.name
2025-06-22 08:00:25,578 INFO sqlalchemy.engine.Engine [generated in 0.00025s] (UUID('00000000-0000-0000-0000-000000000001'),)
2025-06-22 08:00:25,581 INFO sqlalchemy.engine.Engine COMMIT
2025-06-22 08:00:39,541 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-06-22 08:00:39,544 INFO sqlalchemy.engine.Engine SELECT coalesce(sum(sgpos.sales_transactions.total_amount), $1::NUMERIC) AS sales, coalesce(count(sgpos.sales_transactions.id), $2::INTEGER) AS transactions 
FROM sgpos.sales_transactions 
WHERE sgpos.sales_transactions.company_id = $3::UUID AND sgpos.sales_transactions.transaction_date >= $4::TIMESTAMP WITH TIME ZONE AND sgpos.sales_transactions.transaction_date < $5::TIMESTAMP WITH TIME ZONE AND sgpos.sales_transactions.status = $6::VARCHAR
2025-06-22 08:00:39,544 INFO sqlalchemy.engine.Engine [generated in 0.00028s] (Decimal('0.0'), 0, UUID('00000000-0000-0000-0000-000000000001'), datetime.datetime(2025, 6, 22, 0, 0, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 6, 23, 0, 0, tzinfo=datetime.timezone.utc), 'COMPLETED')
2025-06-22 08:00:39,549 INFO sqlalchemy.engine.Engine SELECT coalesce(count(sgpos.customers.id), $1::INTEGER) AS coalesce_1 
FROM sgpos.customers 
WHERE sgpos.customers.company_id = $2::UUID AND sgpos.customers.created_at >= $3::TIMESTAMP WITH TIME ZONE
2025-06-22 08:00:39,549 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (0, UUID('00000000-0000-0000-0000-000000000001'), datetime.datetime(2025, 6, 1, 0, 0, tzinfo=datetime.timezone.utc))
2025-06-22 08:00:39,552 INFO sqlalchemy.engine.Engine SELECT coalesce(count(sgpos.products.id), $1::INTEGER) AS coalesce_1 
FROM sgpos.products JOIN sgpos.inventory ON sgpos.products.id = sgpos.inventory.product_id 
WHERE sgpos.products.company_id = $2::UUID AND sgpos.products.track_inventory = true AND sgpos.inventory.quantity_on_hand <= sgpos.products.reorder_point
2025-06-22 08:00:39,552 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (0, UUID('00000000-0000-0000-0000-000000000001'))
2025-06-22 08:00:39,554 INFO sqlalchemy.engine.Engine COMMIT
Shutting down core resources...
Shutdown complete.

